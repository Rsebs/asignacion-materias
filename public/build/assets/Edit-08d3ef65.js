import{d as s,i as D,o as n,c as A,w as x,a as e,j as B,b as o,k as G,l as N,e as i,h as C,F as U,g as S,t as h}from"./app-1388f3ab.js";import{g as w}from"./functions-d178657d.js";import{_ as $}from"./AppLayout-b836c665.js";import{_ as r}from"./InputLabel-9b2c81da.js";import{_ as u}from"./TextInput-c855fb06.js";import{_ as L}from"./PrimaryButton-15a980c2.js";import{L as M}from"./Loading-8a3b9f5e.js";import"./ApplicationMark-8dba2d05.js";import"./_plugin-vue_export-helper-c27b6911.js";const F=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Página de Profesores EDITAR ",-1),I={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white p-5 overflow-hidden shadow-xl sm:rounded-lg"},z=["onSubmit"],H=e("h1",{class:"text-red-700 text-3xl my-5 uppercase font-bold text-center"},"Editar profesor",-1),J=["textContent","value"],K={class:"table-auto border-collapse border border-slate-400 mt-2 w-full"},O=e("thead",null,[e("tr",null,[e("th",{class:"border border-slate-300"},"Curso"),e("th",{class:"border border-slate-300"},"Créditos"),e("th",{class:"border border-slate-300"},"Aplica")])],-1),Q={key:0},W={colspan:"3"},X=["textContent"],Y=["textContent"],Z={class:"border border-slate-300 p-1 text-center"},ee=["checked"],me={__name:"Edit",props:["professor","coursesProfessor"],setup(y){const{professor:a,coursesProfessor:te}=y,V=s({}),g=s({}),m=s(a.document),c=s(a.names),p=s(a.last_names),f=s(a.phone),v=s(a.email),_=s(a.home_address),b=s(a.city_id),k=s(!0);D(async()=>{await E(),await P(),k.value=!1});async function E(){const d=await w(route("cities.index"),"GET");V.value=d.data}async function P(){const d=await w(route("courses.index"),"GET");g.value=d.data}async function T(){const d={document:m.value,names:c.value,last_names:p.value,phone:f.value,email:v.value,home_address:_.value,city_id:parseInt(b.value)};w(route("professors.update",a.id),"PUT",d),alert("Registro Guardado"),setTimeout(()=>{window.location.href=route("professor.index")},2e3)}return(d,l)=>(n(),A($,{title:"Profesores"},{header:x(()=>[F]),default:x(()=>[e("div",I,[e("div",R,[e("div",j,[e("form",{onSubmit:B(T,["prevent"])},[H,e("div",null,[o(r,{for:"document",value:"Documento"}),o(u,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=t=>m.value=t),id:"document",type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[o(r,{for:"names",value:"Nombres"}),o(u,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=t=>c.value=t),id:"names",type:"text",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[o(r,{for:"last_names",value:"Apellidos"}),o(u,{modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=t=>p.value=t),id:"last_names",type:"text",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[o(r,{for:"phone",value:"Télefono"}),o(u,{modelValue:f.value,"onUpdate:modelValue":l[3]||(l[3]=t=>f.value=t),id:"phone",type:"tel",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[o(r,{for:"email",value:"Email"}),o(u,{modelValue:v.value,"onUpdate:modelValue":l[4]||(l[4]=t=>v.value=t),id:"email",type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[o(r,{for:"home_address",value:"Dirección"}),o(u,{modelValue:_.value,"onUpdate:modelValue":l[5]||(l[5]=t=>_.value=t),id:"home_address",type:"text",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[o(r,{for:"city",value:"Ciudad"}),G(e("select",{"onUpdate:modelValue":l[6]||(l[6]=t=>b.value=t),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},[(n(!0),i(U,null,C(V.value,t=>(n(),i("option",{textContent:h(t.name),value:t.id},null,8,J))),256))],512),[[N,b.value]])]),e("div",null,[e("table",K,[O,e("tbody",null,[k.value?(n(),i("tr",Q,[e("td",W,[o(M)])])):(n(!0),i(U,{key:1},C(g.value,t=>(n(),i("tr",null,[e("td",{textContent:h(t.name),class:"border border-slate-300 p-1 text-center"},null,8,X),e("td",{textContent:h(t.credits),class:"border border-slate-300 p-1 text-center"},null,8,Y),e("td",Z,[e("input",{checked:y.coursesProfessor.some(q=>q.id===t.id),type:"checkbox"},null,8,ee)])]))),256))])])]),o(L,{class:"mt-4"},{default:x(()=>[S(" Guardar ")]),_:1})],40,z)])])])]),_:1}))}};export{me as default};
