import{d as s,i as E,o as n,c as A,w as h,a as e,j as B,b as l,k as D,l as G,e as d,h as C,F as k,g as N,t as w}from"./app-1388f3ab.js";import{g as m}from"./functions-d178657d.js";import{_ as $}from"./AppLayout-b836c665.js";import{_ as r}from"./InputLabel-9b2c81da.js";import{_ as u}from"./TextInput-c855fb06.js";import{_ as L}from"./PrimaryButton-15a980c2.js";import{L as M}from"./Loading-8a3b9f5e.js";import"./ApplicationMark-8dba2d05.js";import"./_plugin-vue_export-helper-c27b6911.js";const R=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Página de profesores CREAR ",-1),F={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white p-5 overflow-hidden shadow-xl sm:rounded-lg"},I=["onSubmit"],z=e("h1",{class:"text-red-700 text-3xl my-5 uppercase font-bold text-center"},"Contratar Profesor",-1),H=["textContent","value"],J={class:"table-auto border-collapse border border-slate-400 mt-2 w-full"},K=e("thead",null,[e("tr",null,[e("th",{class:"border border-slate-300"},"Curso"),e("th",{class:"border border-slate-300"},"Créditos"),e("th",{class:"border border-slate-300"},"Aplica")])],-1),Q={key:0},W={colspan:"3"},X=["textContent"],Y=["textContent"],Z={class:"border border-slate-300 p-1 text-center"},ee=["onClick"],me={__name:"Create",setup(te){const y=s({}),V=s({}),c=s(""),p=s(""),f=s(""),v=s(""),_=s(""),b=s(""),x=s(""),i=s([]),g=s(!0);E(async()=>{await P(),await T(),g.value=!1});async function P(){const a=await m(route("cities.index"),"GET");y.value=a.data}async function T(){const a=await m(route("courses.index"),"GET");V.value=a.data}function U(a,o){i.value.push(a),o.target.checked||(i.value=i.value.filter(t=>t!==a))}async function S(){const a={document:c.value,names:p.value,last_names:f.value,phone:v.value,email:_.value,home_address:b.value,city_id:parseInt(x.value)},t={professor_id:(await m(route("professors.store"),"POST",a)).data.data.id,course_ids:i.value};await m(route("coursesProfessors.store"),"POST",t),alert("Registro Guardado"),setTimeout(()=>{window.location.href=route("professor.index")},2e3)}return(a,o)=>(n(),A($,{title:"Profesores"},{header:h(()=>[R]),default:h(()=>[e("div",F,[e("div",O,[e("div",j,[e("form",{onSubmit:B(S,["prevent"]),action:"#"},[z,e("div",null,[l(r,{for:"document",value:"Documento"}),l(u,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),id:"document",type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[l(r,{for:"names",value:"Nombres"}),l(u,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=t=>p.value=t),id:"names",type:"text",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[l(r,{for:"last_names",value:"Apellidos"}),l(u,{modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=t=>f.value=t),id:"last_names",type:"text",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[l(r,{for:"phone",value:"Télefono"}),l(u,{modelValue:v.value,"onUpdate:modelValue":o[3]||(o[3]=t=>v.value=t),id:"phone",type:"tel",class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[l(r,{for:"email",value:"Email"}),l(u,{modelValue:_.value,"onUpdate:modelValue":o[4]||(o[4]=t=>_.value=t),id:"email",type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[l(r,{for:"home_address",value:"Dirección"}),l(u,{modelValue:b.value,"onUpdate:modelValue":o[5]||(o[5]=t=>b.value=t),id:"home_address",type:"text",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",null,[l(r,{for:"city",value:"Ciudad"}),D(e("select",{"onUpdate:modelValue":o[6]||(o[6]=t=>x.value=t),id:"city",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},[(n(!0),d(k,null,C(y.value,t=>(n(),d("option",{textContent:w(t.name),value:t.id},null,8,H))),256))],512),[[G,x.value]])]),e("div",null,[e("table",J,[K,e("tbody",null,[g.value?(n(),d("tr",Q,[e("td",W,[l(M)])])):(n(!0),d(k,{key:1},C(V.value,t=>(n(),d("tr",null,[e("td",{textContent:w(t.name),class:"border border-slate-300 p-1 text-center"},null,8,X),e("td",{textContent:w(t.credits),class:"border border-slate-300 p-1 text-center"},null,8,Y),e("td",Z,[e("input",{type:"checkbox",onClick:q=>U(t.id,q)},null,8,ee)])]))),256))])])]),l(L,{class:"mt-4"},{default:h(()=>[N(" Guardar ")]),_:1})],40,I)])])])]),_:1}))}};export{me as default};
